{
  "schemaVersion": 1,
  "timestamp": "2025-03-08T12:34:56.789Z",
  "config": {
    "helmChart": "./charts/my-app",
    "namespace": "prep",
    "strictMode": false,
    "mode": "bootstrap",
    "includeKinds": ["Route"]
  },
  "selection": {
    "helmKinds": ["ConfigMap", "Deployment", "Service"],
    "additionalKinds": ["Route"],
    "comparedKinds": ["ConfigMap", "Deployment", "Route", "Service"]
  },
  "normalization": {
    "totalSuppressed": 2,
    "rules": [
      {
        "rule": {
          "id": "podSpec.dnsPolicy",
          "target": "PodSpec",
          "field": "dnsPolicy",
          "defaultValue": "ClusterFirst",
          "description": "Pod DNS policy defaults to ClusterFirst.",
          "rationale": "Kubernetes sets this when unspecified; it does not indicate user intent."
        },
        "suppressedCount": 1
      },
      {
        "rule": {
          "id": "container.terminationMessagePath",
          "target": "Container",
          "field": "terminationMessagePath",
          "defaultValue": "/dev/termination-log",
          "description": "Container termination message path defaults to /dev/termination-log.",
          "rationale": "Platform default with no behavioral difference when omitted."
        },
        "suppressedCount": 1
      },
      {
        "rule": {
          "id": "container.terminationMessagePolicy",
          "target": "Container",
          "field": "terminationMessagePolicy",
          "defaultValue": "File",
          "description": "Container termination message policy defaults to File.",
          "rationale": "System-provided default that does not represent explicit user choice."
        },
        "suppressedCount": 0
      },
      {
        "rule": {
          "id": "service.spec.type",
          "target": "ServiceSpec",
          "field": "type",
          "defaultValue": "ClusterIP",
          "description": "Service type defaults to ClusterIP.",
          "rationale": "Service type is ClusterIP when not specified by the user."
        },
        "suppressedCount": 0
      },
      {
        "rule": {
          "id": "service.port.protocol",
          "target": "ServicePort",
          "field": "protocol",
          "defaultValue": "TCP",
          "description": "Service port protocol defaults to TCP.",
          "rationale": "Kubernetes assigns TCP when protocol is omitted."
        },
        "suppressedCount": 0
      },
      {
        "rule": {
          "id": "container.imagePullPolicy.always",
          "target": "Container",
          "field": "imagePullPolicy",
          "defaultValue": "Always",
          "description": "imagePullPolicy defaults to Always when omitted.",
          "rationale": "Kubernetes assigns Always when not set; explicit values still surface."
        },
        "suppressedCount": 0
      }
    ]
  },
  "summary": {
    "total": 3,
    "matched": 1,
    "drifted": 1,
    "missingLive": 1,
    "missingHelm": 0,
    "warnings": 1,
    "failures": 1
  },
  "results": [
    {
      "resource": {
        "kind": "Deployment",
        "namespace": "prep",
        "name": "my-app"
      },
      "status": "MATCH",
      "differences": []
    },
    {
      "resource": {
        "kind": "Service",
        "namespace": "prep",
        "name": "my-app"
      },
      "status": "DRIFT",
      "differences": [
        {
          "path": [
            { "type": "field", "name": "spec" },
            { "type": "field", "name": "ports" },
            { "type": "index", "index": 0 },
            { "type": "field", "name": "port" }
          ],
          "helmValue": 80,
          "liveValue": 8080,
          "action": "WARN"
        }
      ]
    },
    {
      "resource": {
        "kind": "ConfigMap",
        "namespace": "prep",
        "name": "my-app-config"
      },
      "status": "MISSING_LIVE",
      "differences": []
    }
  ]
}
